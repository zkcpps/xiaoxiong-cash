(this["webpackJsonpxiaoxiong-cash"]=this["webpackJsonpxiaoxiong-cash"]||[]).push([[0],{238:function(e,n,t){e.exports=t(553)},243:function(e,n,t){},553:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(234),o=t.n(c),i=(t(243),t(9)),u=t(4),l=t(3),s=t(55),m=t(16),d=t(105),f={$white:"#edf5ed",$success:"#4395ff",$danger:"#F76361",$warning:"#F0B739",$linkText:"#576F96",$mainText:"#303133",$normalText:"#606266",$subText:"#909399",$placeholder:"#C0C4CC",$largeTextSize:"18px",$mainTextSize:"16px",$normalTextSize:"14px",$smallTextSize:"12px"},p=l.b.svg((function(e){return{width:e.size,height:e.size,fill:e.color}})),b=function(e){var n=e.name,t=e.color,a=e.size,c=Object(d.a)(e,["name","color","size"]);return(r.createElement(p,Object.assign({size:a,color:t,className:"icon","aria-hidden":"true"},c),r.createElement("use",{xlinkHref:"#icon-".concat(n)})))};b.defaultProps={size:16,color:f.$normalText};var g=b,x=l.b.span((function(e){return{borderRight:"1px solid",margin:"0 ".concat(e.gap,"px"),borderColor:e.color}})),h=l.b.div((function(e){return{borderBottom:"1px solid",margin:"".concat(e.gap,"px 0"),borderColor:e.color}})),E=function(e){return"horizontal"===e.direction?r.createElement(h,e):r.createElement(x,e)};E.defaultProps={direction:"vertical",gap:16,color:"#eee"};var v=E;function y(){var e=Object(u.a)(["\n  width: 1.5em;\n  height: 1.5em;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  margin: 4px;\n  background: #F4F4F4;\n  color: ",";\n  font-size: "," !important;\n  border-radius: 4px;\n"]);return y=function(){return e},e}var w=l.b.span(y(),(function(e){return e.theme.$subText}),(function(e){return e.theme.$smallTextSize})),j=function(e){return r.createElement(w,null,e.children)},O={none:{background:"#ECECEC",fill:"#C7C7C7"},expense:{background:f.$success,fill:"white"},income:{background:f.$warning,fill:"white"}},T=[{id:"0",name:"\u5176\u4ed6",iconName:"rmb"},{id:"1",name:"\u8863\u670d",iconName:"clothes"},{id:"2",name:"\u8d2d\u7269",iconName:"bag"},{id:"3",name:"\u4ea4\u901a",iconName:"bus"},{id:"4",name:"\u9910\u996e",iconName:"rice"},{id:"5",name:"\u65c5\u884c",iconName:"luggage"},{id:"6",name:"\u80a1\u7968",iconName:"stock"},{id:"7",name:"\u6c34\u7535\u5a92",iconName:"water-drop"},{id:"8",name:"\u4fe1\u7528\u5361",iconName:"card"},{id:"9",name:"\u5de5\u8d44",iconName:"salary"},{id:"10",name:"\u8f6c\u8d26",iconName:"transfer"}],k=T[0],$=T[1],z=T[2],S=T[3],F=T[4],C=T[5],R=T[6],N=T[7],D=T[8],L=T[9],A=[D,L,R,k],I=[$,z,S,F,C,R,N,L,k];function M(){var e=Object(u.a)(["\n  padding: 8px;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  background: ",";\n  border-radius: 50%;\n  svg {\n    fill: ","\n  }\n"]);return M=function(){return e},e}var B=l.b.span(M(),(function(e){return e.background}),(function(e){return e.fill})),J=function(e){var n=e.category,t=e.recordType,a=e.size,c=O[t];return r.createElement(B,c,r.createElement(g,{name:n.iconName,size:a}))};J.defaultProps={size:24};var P=J,Y=t(17),H=t.n(Y),K=t(44),W="YYYY\u5e74MM\u6708";function q(){var e=Object(u.a)(["\n  padding: 24px 18px;\n  display: flex;\n  color: ",";\n  text-decoration: none;\n  .record-content {\n    flex-grow: 1;\n    padding: 0 16px;\n    &-details {\n      color: ",";\n      > span {\n        font-size: ","\n      }\n    }\n    &-amount {\n      font-size: ",";\n    }\n  }\n"]);return q=function(){return e},e}var G=Object(l.b)(s.b)(q(),(function(e){return e.theme.$normalText}),(function(e){return e.theme.$placeholder}),(function(e){return e.theme.$smallTextSize}),(function(e){return e.theme.$mainTextSize})),Q=function(e){var n=e.record,t=n.id,a=n.date,c=n.amount,o=n.categoryId,i=n.note,u=n.type,l=I.find((function(e){return e.id===o})),s=H()(a).format("hh:mm");return r.createElement("li",null,r.createElement(G,{to:"/record/".concat(t)},r.createElement(P,{category:l,recordType:u}),r.createElement("div",{className:"record-content"},r.createElement("div",null,l&&l.name),r.createElement("div",{className:"record-content-details"},r.createElement("span",null,s),r.createElement(v,{gap:8}),r.createElement("span",null,i))),r.createElement("div",{className:"record-content-amount"},"income"===u?"+":"-",c.toFixed(2))))};function U(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  color: ",";\n  > span {\n    font-size: ",";\n  }\n"]);return U=function(){return e},e}function V(){var e=Object(u.a)([""]);return V=function(){return e},e}function X(){var e=Object(u.a)(["\n  padding: 24px 18px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background: #FBFBFB;\n  span {\n    font-size: ",";\n  }\n"]);return X=function(){return e},e}function Z(){var e=Object(u.a)(["\n  border-radius: 8px;\n  margin-bottom: 8px;\n  background: white;\n  color: ",";\n  overflow: hidden;\n  &:last-child {\n    margin-bottom: 0;\n  }\n"]);return Z=function(){return e},e}var _=l.b.ul(Z(),(function(e){return e.theme.$mainText})),ee=l.b.header(X(),(function(e){return e.theme.$mainTextSize})),ne=l.b.section(V()),te=l.b.section(U(),(function(e){return e.theme.$normalText}),(function(e){return e.theme.$normalTextSize})),re=function(e){var n=e.dayRecord,t=n.day,a=n.expenseTotal,c=n.incomeTotal,o=n.recordList;return(r.createElement(_,null,r.createElement(ee,null,r.createElement(ne,null,r.createElement("span",{style:{marginRight:8}},t),r.createElement("span",null,"\u661f\u671f\u4e8c")),r.createElement(te,null,r.createElement(j,null,"\u652f"),r.createElement("span",{style:{marginRight:16}},a.toFixed(2)),r.createElement(j,null,"\u6536"),r.createElement("span",null,c.toFixed(2)))),r.createElement("ul",null,o&&o.map((function(e){return r.createElement(Q,{key:e.id,record:e})})))))};function ae(){var e=Object(u.a)([""]);return ae=function(){return e},e}function ce(){var e=Object(u.a)(["\n  padding: 8px 18px;\n  span {\n    font-size: ",";\n    color: ","\n  }\n"]);return ce=function(){return e},e}var oe=l.b.div(ce(),(function(e){return e.theme.$normalTextSize}),(function(e){return e.theme.$subText})),ie=l.b.li(ae()),ue=function(e){var n=e.monthRecord,t=n.month,a=n.recordList,c=n.incomeTotal,o=n.expenseTotal,i=H()().format(W);return r.createElement(ie,null,i!==t&&r.createElement(oe,null,r.createElement("span",null,t),r.createElement(v,{gap:8}),r.createElement("span",{style:{marginRight:12}},"\u603b\u652f\u51fa\uffe5",o.toFixed(2)),r.createElement("span",null,"\u603b\u6536\u5165\uffe5",c.toFixed(2))),r.createElement("ul",null,a&&a.map((function(e){return r.createElement(re,{key:e.day,dayRecord:e})}))))},le=t(45),se=[],me=function(e,n){var t=H()(n.date).format(W),r=H()(n.date).format("MM\u6708DD\u65e5"),a=e.find((function(e){return e.month===t}));a||(a={month:t,incomeTotal:0,expenseTotal:0,recordList:[]},e.push(a));var c=a.recordList.find((function(e){return e.day===r}));c||(c={day:r,incomeTotal:0,expenseTotal:0,recordList:[]},a.recordList.push(c)),c.recordList.push(n),de(a,c,n)},de=function(e,n,t){var r=t.amount;"expense"===t.type?(n.expenseTotal+=r,e.expenseTotal+=r):(n.incomeTotal+=r,e.incomeTotal+=r)},fe=function(e,n){var t=JSON.parse(JSON.stringify(e));return n.forEach((function(e){me(t,e)})),t},pe=function(e){var n=[];return e.recordList.forEach((function(e){return e.recordList.forEach((function(e){return n.push(e)}))})),n},be=function(){var e=Object(r.useState)([]),n=Object(i.a)(e,2),t=n[0],a=n[1],c=Object(r.useState)([]),o=Object(i.a)(c,2),u=o[0],l=o[1];Object(r.useEffect)((function(){return s()}),[]);var s=function(){var e=window.localStorage.getItem("rawRecordList"),n=e?JSON.parse(e):se;a(n),l(fe([],n))};return{rawRecordList:t,setRawRecordList:a,recordList:u,appendRecord:me,bulkAppendRecords:fe,addRawRecord:function(e){var n=[e].concat(Object(K.a)(t));window.localStorage.setItem("rawRecordList",JSON.stringify(n)),a(n),l(fe([],n))},getMonthRecord:function(e){return u.find((function(n){return n.month===e}))},fetchData:s,filterRecordList:function(e,n,r){var a=t.filter((function(n){return"-1"===e||n.type===r&&n.categoryId===e})).filter((function(e){return!!n.isSame(H()(),"month")||H()(e.date).isSame(n,"month")}));return fe([],a)},deleteRecord:function(e){var n=t.filter((function(n){return n.id!==e}));window.localStorage.setItem("rawRecordList",JSON.stringify(n)),a(n),l(fe([],n))},editRecord:function(e){var n=JSON.parse(JSON.stringify(t)),r=-1;n.some((function(n,t){return n.id===e.id&&(r=t,!0)}));var c=[].concat(Object(K.a)(n.slice(0,r)),[Object(le.a)({},e)],Object(K.a)(n.slice(r+1)));window.localStorage.setItem("rawRecordList",JSON.stringify(c)),a(c),l(fe([],c))}}};function ge(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  bottom: 128px;\n  right: 32px;\n  width: 50px;\n  height: 50px;\n  background: white;\n  box-shadow: 0 2px 24px -6px ",";\n  z-index: 3;\n  border-radius: 50%;\n"]);return ge=function(){return e},e}var xe=l.b.div(ge(),(function(e){return e.theme.$normalText})),he=function(e){var n=e.onClick;return(r.createElement(xe,{onClick:n},e.children))};function Ee(){var e=Object(u.a)(["\n  position: absolute;\n  width: 100%;\n  bottom: 0;\n  z-index: 5;\n  border-radius: 8px 8px 0 0;\n  background: white;\n  overflow: hidden;\n"]);return Ee=function(){return e},e}function ve(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 16px;\n  border-bottom: 1px solid #eee;\n  font-size: ",";\n  background:  #FAFAFA;\n"]);return ve=function(){return e},e}function ye(){var e=Object(u.a)(["\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  bottom: 0;\n  z-index: 4;\n  background: rgba(0, 0, 0, 0.5);\n"]);return ye=function(){return e},e}var we=l.b.div(ye()),je=l.b.header(ve(),(function(e){return e.theme.$largeTextSize})),Oe=l.b.div(Ee()),Te=function(e){var n=e.title,t=e.closeDrawer;return(r.createElement(we,{onClick:t},r.createElement(Oe,{onClick:function(e){return e.stopPropagation()}},r.createElement(je,null,r.createElement(g,{onClick:t,name:"close",size:18}),r.createElement("span",null,n),r.createElement(g,{name:"close",color:"transparent"})),e.children)))};Te.defaultProps={title:""};var ke=Te,$e={success:{background:f.$success,borderColor:f.$success,color:"white"},warning:{background:f.$warning,borderColor:f.$warning,color:"white"},none:{background:"#F1F1F1",borderColor:"#F1F1F1",color:f.$subText}},ze={small:{padding:"2px 8px",fontSize:f.$smallTextSize},normal:{padding:"4px 12px"}},Se=l.b.button((function(e){return Object(le.a)(Object(le.a)({display:"inline-flex",alignItems:"center",justifyContent:"center",padding:"4px 12px",outline:"none",borderRadius:"16px",marginRight:"8px",border:"1px solid"},$e[e.recordType]),ze[e.size])})),Fe=function(e){var n=e.recordType,t=e.size,a=Object(d.a)(e,["recordType","size"]);return(r.createElement(Se,Object.assign({},a,{recordType:n,size:t}),e.children))};Fe.defaultProps={recordType:"none",size:"normal"};var Ce=Fe;function Re(){var e=Object(u.a)(["\n  > button {\n    float: left;\n    width: 25%;\n    height: 64px;\n    background: white;\n    font-size: 1.3em;\n    outline: none;\n    border-radius: 4px;\n    border: 4px solid #FAFAFA;\n    &.zero {\n      width: 50%;\n    }\n    &.OK {\n      height: 192px;\n      float: right;\n      font-size: 1em;\n      color: white;\n      opacity: ",";\n      background: ",";\n    }\n  }\n"]);return Re=function(){return e},e}var Ne=l.b.div(Re(),(function(e){return"0"===e.value?.6:1}),(function(e){var n=e.recordType,t=e.theme;return"expense"===n?t.$success:t.$warning})),De=function(e){var n=e.value,t=e.onOK,a=e.onChange,c=e.recordType;return r.createElement(Ne,{recordType:c,value:n,className:"clearfix",onClick:function(e){var r=e.target.textContent;if(r){if("\u786e\u5b9a"===r)return t();if("DEL"===r)return function(){if("0"!==n)return 1===n.length?a("0"):void a(n.slice(0,-1))}();var c=function(e,n){if(!/[\d.]/.test(n))return e;if(e.includes("."))return"."===n?e:isNaN(parseFloat(n))?e:e.split(".")[1].length>=2?e:e+n;if("0"===e)return"."===n?e+n:n;var t=e+n;return parseFloat(t)>1e5?(alert("\u8f93\u5165\u91d1\u989d\u4e0d\u80fd\u8d85\u8fc7".concat(1e5)),e):t}(n,r);a(c)}}},r.createElement("button",null,"1"),r.createElement("button",null,"2"),r.createElement("button",null,"3"),r.createElement("button",null,"DEL"),r.createElement("button",null,"4"),r.createElement("button",null,"5"),r.createElement("button",null,"6"),r.createElement("button",{className:"OK"},"\u786e\u5b9a"),r.createElement("button",null,"7"),r.createElement("button",null,"8"),r.createElement("button",null,"9"),r.createElement("button",{className:"zero"},"0"),r.createElement("button",null,"."))};function Le(){var e=Object(u.a)(["\n  padding: 4px;\n  background: #FAFAFA;\n"]);return Le=function(){return e},e}function Ae(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  padding: 0 24px 24px;\n  > span {\n    margin-right: 8px;\n    color: ",";\n    cursor: pointer;\n  }\n"]);return Ae=function(){return e},e}function Ie(){var e=Object(u.a)(["\n  font-size: .8em;\n  margin-top: 8px;\n  color: ",";\n  word-break: keep-all;\n"]);return Ie=function(){return e},e}function Me(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-right: 16px;\n  &:last-child {\n    margin-right: 0;\n  }\n"]);return Me=function(){return e},e}function Be(){var e=Object(u.a)(["\n  padding: 24px;\n  display: flex;\n  align-items: center;\n  overflow-x: auto;\n  list-style: none;\n  &::-webkit-scrollbar {\n    width: 0\n  }\n"]);return Be=function(){return e},e}function Je(){var e=Object(u.a)(["\n  display: flex;\n  width: 90%;\n  margin: 0 auto;\n  border-bottom: 1px solid #eee;\n  > span {\n    font-size: 2.5em;\n  }\n  > div {\n    padding-left: 8px;\n    flex-grow: 1;\n    border: none;\n    outline: none;\n    height: 64px;\n    font-size: 2em;\n    line-height: 2em;\n    text-align: right;\n  }\n"]);return Je=function(){return e},e}function Pe(){var e=Object(u.a)(["\n  padding: 16px;\n  display: flex;\n  align-items: center;\n"]);return Pe=function(){return e},e}var Ye=l.b.section(Pe()),He=l.b.section(Je()),Ke=l.b.ul(Be()),We=l.b.li(Me()),qe=l.b.span(Ie(),(function(e){return e.theme.$subText})),Ge=l.b.section(Ae(),(function(e){return e.theme.$linkText})),Qe=l.b.section(Le()),Ue=function(e){var n=e.closeDrawer,t=e.onSubmit,a=e.value,c=a||{date:(new Date).toISOString(),id:(new Date).getTime().toString(),amount:0,categoryId:"1",note:"",type:"expense"},o=Object(r.useState)(c.note),u=Object(i.a)(o,2),l=u[0],s=u[1],m=Object(r.useState)(c.type),d=Object(i.a)(m,2),f=d[0],p=d[1],b=Object(r.useState)(c.categoryId),g=Object(i.a)(b,2),x=g[0],h=g[1],E=Object(r.useState)(c.amount),v=Object(i.a)(E,2),y=v[0],w=v[1],j=Object(r.useState)(c.amount.toString()),O=Object(i.a)(j,2),T=O[0],k=O[1],$="expense"===f?I:A;return r.createElement("div",null,r.createElement(Ye,null,r.createElement(Ce,{recordType:"expense"===f?"success":"none",onClick:function(){return p("expense")}},"\u652f\u51fa"),r.createElement(Ce,{recordType:"income"===f?"warning":"none",onClick:function(){return p("income")}},"\u6536\u5165")),r.createElement(He,null,r.createElement("span",null,"\uffe5"),r.createElement("div",null,T)),r.createElement(Ke,null,$.map((function(e){return r.createElement(We,{key:e.id,onClick:function(){return h(e.id)}},r.createElement(P,{category:e,recordType:x===e.id?f:"none",size:20}),r.createElement(qe,null,e.name))}))),r.createElement(Ge,null,r.createElement("span",{onClick:function(){var e=prompt("\u6dfb\u52a0\u5907\u6ce8","")||"";if(e.length>20)return alert("\u4e0d\u80fd\u8d85\u8fc7".concat(20,"\u4e2a\u5b57"));s(e)}},l?"\u4fee\u6539":"\u6dfb\u52a0\u5907\u6ce8"),r.createElement("article",null,l)),r.createElement(Qe,null,r.createElement(De,{value:T,recordType:f,onChange:function(e){k(e),w(parseFloat(e))},onOK:function(){if(0===y)return alert("\u91d1\u989d\u4e0d\u80fd\u4e3a0");var e=Object(le.a)(Object(le.a)({},c),{},{amount:y,categoryId:x,note:l,type:f});t(e),n()}})))};function Ve(){var e=Object(u.a)(["\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  width: 33.33333%;\n  padding: 16px;\n  border: 4px solid #FAFAFA;\n  border-radius: 6px;\n  font-size: 1.1em;\n  cursor: pointer;\n  background: ",";\n  color: ","\n"]);return Ve=function(){return e},e}function Xe(){var e=Object(u.a)(["\n  display: flex;\n  flex-wrap: wrap;\n"]);return Xe=function(){return e},e}function Ze(){var e=Object(u.a)(["\n  margin: 8px 0 8px 4px;\n  color: ",";\n"]);return Ze=function(){return e},e}function _e(){var e=Object(u.a)(["\n  max-height: 48vh;\n  padding: 32px 16px;\n  background:  #FAFAFA;\n  overflow-y: auto;\n  .selected {\n    background: ",";\n    color: white;\n  }\n"]);return _e=function(){return e},e}var en={expense:f.$success,income:f.$warning},nn=l.b.section(_e(),(function(e){return e.theme.$success})),tn=l.b.p(Ze(),(function(e){return e.theme.$subText})),rn=l.b.section(Xe()),an=l.b.div(Ve(),(function(e){return e.selected?en[e.recordType]:"white"}),(function(e){return e.selected?"white":e.theme.$normalText})),cn=function(e){var n=e.value,t=e.recordType,a=e.closeDrawer,c=e.onSubmit,o=function(e,n){c(e,n),a()};return r.createElement(nn,null,r.createElement(an,{selected:"-1"===n,recordType:"expense",onClick:function(){return o("-1","expense")}},"\u5168\u90e8\u7c7b\u578b"),r.createElement(tn,null,"\u652f\u51fa"),r.createElement(rn,null,I.map((function(e){return r.createElement(an,{key:e.id,recordType:"expense",onClick:function(){return o(e.id,"expense")},selected:"expense"===t&&n===e.id},e.name)}))),r.createElement(tn,null,"\u6536\u5165"),r.createElement(rn,null,A.map((function(e){return r.createElement(an,{key:e.id,recordType:"income",onClick:function(){return o(e.id,"income")},selected:"income"===t&&n===e.id},e.name)}))))};function on(){var e=Object(u.a)(["\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 6px;\n  border: 4px solid #FAFAFA;\n  width: 25%;\n  font-size: 1.1em;\n  padding: 16px;\n  background: ",";\n  color: ","\n"]);return on=function(){return e},e}function un(){var e=Object(u.a)(["\n  padding-bottom: 16px;\n  display: flex;\n  flex-wrap: wrap;\n  list-style: none;\n"]);return un=function(){return e},e}function ln(){var e=Object(u.a)(["\n  > p {\n    padding: 16px 0;\n    text-align: center;\n    color: ",";\n  }\n"]);return ln=function(){return e},e}function sn(){var e=Object(u.a)(["\n  padding: 0 16px;\n  background:  #FAFAFA;\n"]);return sn=function(){return e},e}var mn=l.b.section(sn()),dn=l.b.section(ln(),(function(e){return e.theme.$subText})),fn=l.b.ul(un()),pn=l.b.li(on(),(function(e){return e.selected?e.theme.$success:"white"}),(function(e){return e.selected?"white":e.theme.$normalText})),bn=function(){return Object(K.a)(Array(5)).map((function(e,n){return H()().subtract(n,"month")}))},gn=function(e){var n=e.closeDrawer,t=e.value,a=e.onSubmit,c=H()(),o=H()().subtract(1,"year"),i=bn(),u=i.filter((function(e){return e.isSame(o,"year")})),l=i.filter((function(e){return e.isSame(c,"year")})),s=function(e){a(e),n()};return r.createElement(mn,null,l&&r.createElement(dn,null,r.createElement("p",null,c.get("year")),r.createElement(fn,null,l.map((function(e){return r.createElement(pn,{selected:e.isSame(t,"date"),key:e.get("month"),onClick:function(){return s(e)}},e.get("month")+1,"\u6708")})))),0!==u.length&&r.createElement(dn,null,r.createElement("p",null,o.get("year")),r.createElement(fn,null,u.map((function(e){return r.createElement(pn,{selected:e.isSame(t,"date"),key:e.get("month"),onClick:function(){return s(e)}},e.get("month")+1,"\u6708")})))))};function xn(){var e=Object(u.a)(["\n  flex-grow: 1;\n  width: 50%;\n  float: left;\n  color: ",";\n  font-size: ",";\n  text-align: center;\n  > div {\n    margin-top: 4px;\n    color: ",";\n    text-align: center;\n  }\n"]);return xn=function(){return e},e}function hn(){var e=Object(u.a)(["\n  padding: 12px 0;\n  background: white;\n  box-shadow: 0px -2px 12px 0px rgba(192,196,204,.4);\n  z-index: 2;\n  a {\n    text-decoration: none;\n  }\n  .selected {\n    color: ","\n  }\n"]);return hn=function(){return e},e}var En=l.b.div(hn(),(function(e){return e.theme.$success})),vn=Object(l.b)(s.b)(xn(),(function(e){return e.theme.$normalText}),(function(e){return e.theme.$normalTextSize}),(function(e){return e.selected?e.theme.$success:e.theme.$normalText})),yn=function(){var e=Object(m.g)().pathname;return(r.createElement(En,{className:"clearfix"},r.createElement(vn,{to:"/",selected:"/"===e},"/"===e?r.createElement(g,{name:"solid-order",size:24,color:f.$success}):r.createElement(g,{name:"order",size:24}),r.createElement("div",null,"\u660e\u7ec6")),r.createElement(vn,{to:"/analysis",selected:"/analysis"===e},"/analysis"===e?r.createElement(g,{name:"solid-chart",size:24,color:f.$success}):r.createElement(g,{name:"chart",size:24}),r.createElement("div",null,"\u7edf\u8ba1"))))};function wn(){var e=Object(u.a)(["\n  padding: 25px 14px 16px;\n  background: ",";\n  color: ",";\n  border-bottom: 1px solid rgba(18,18,18,.1); \n  box-shadow: 0 1px 3px rgba(18,18,18,.1); \n  .title {\n    text-align: center;\n    font-size: ",";\n  }\n"]);return wn=function(){return e},e}function jn(){var e=Object(u.a)(["\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n"]);return jn=function(){return e},e}var On=l.b.div(jn()),Tn=l.b.header(wn(),(function(e){return e.theme.$success}),(function(e){return e.theme.$white}),(function(e){return e.theme.$largeTextSize})),kn=function(e){return r.createElement(On,null,r.createElement(Tn,null,r.createElement("p",{className:"title"},"\u5c0f\u718a\u8bb0\u8d26\u672c")),e.children,r.createElement(yn,null))};function $n(){var e=Object(u.a)(["\n  padding-top: 24px;\n  height: 100%;\n  text-align: center;\n  color: ","\n"]);return $n=function(){return e},e}function zn(){var e=Object(u.a)(["\n  padding: 8px;\n  flex-grow: 1;\n  overflow: auto;\n"]);return zn=function(){return e},e}function Sn(){var e=Object(u.a)(["\n  padding-top: 8px;\n  font-weight: 300;\n"]);return Sn=function(){return e},e}function Fn(){var e=Object(u.a)(["\n  display: inline-flex;\n  align-items: center;\n  padding: 8px 16px;\n  color: ",";\n  border: none;\n  outline: none;\n  background: none;\n"]);return Fn=function(){return e},e}function Cn(){var e=Object(u.a)(["\n  margin-top: 26px;\n  padding: 8px 16px;\n  color: ",";\n  background: #4395D6;\n  border: none;\n  outline: none;\n  border-radius: 4px;\n"]);return Cn=function(){return e},e}function Rn(){var e=Object(u.a)(["\n  padding: 0 12px;\n  background: ",";\n  color: ",";\n"]);return Rn=function(){return e},e}var Nn=l.b.section(Rn(),(function(e){return e.theme.$success}),(function(e){return e.theme.$white})),Dn=l.b.button(Cn(),(function(e){return e.theme.$white})),Ln=l.b.button(Fn(),(function(e){return e.theme.$white})),An=l.b.section(Sn()),In=l.b.ul(zn()),Mn=l.b.div($n(),(function(e){return e.theme.$subText})),Bn=function(){var e=Object(r.useState)(!1),n=Object(i.a)(e,2),t=n[0],a=n[1],c=Object(r.useState)(!1),o=Object(i.a)(c,2),u=o[0],l=o[1],s=Object(r.useState)(!1),m=Object(i.a)(s,2),d=m[0],p=m[1],b=Object(r.useState)(H()()),x=Object(i.a)(b,2),h=x[0],E=x[1],y=Object(r.useState)("-1"),w=Object(i.a)(y,2),j=w[0],O=w[1],k=Object(r.useState)("expense"),$=Object(i.a)(k,2),z=$[0],S=$[1],F=be(),C=F.fetchData,R=F.addRawRecord,N=(0,F.filterRecordList)(j,h,z),D=Object(i.a)(N,1)[0],L=T.find((function(e){return e.id===j})),A=function(){C(),p(!1)};return r.createElement(kn,null,r.createElement(Nn,null,r.createElement("section",null,r.createElement(Dn,{onClick:function(){return l(!0)}},r.createElement("span",null,L?L.name:"\u5168\u90e8\u7c7b\u578b"),r.createElement(v,{color:"#68C895"}),r.createElement(g,{color:"#edf5ed",name:"application"}))),r.createElement(An,null,r.createElement(Ln,{onClick:function(){return a(!0)}},r.createElement("span",{style:{marginRight:4}},h.format(W)),r.createElement(g,{color:"#A0D8BB",name:"drop-down"})),r.createElement("span",{style:{marginRight:12}},"\u603b\u652f\u51fa\uffe5",D?D.expenseTotal.toFixed(2):"0.00"),r.createElement("span",null,"\u603b\u6536\u5165\uffe5",D?D.incomeTotal.toFixed(2):"0.00"))),0!==N.length?r.createElement(In,null,N.map((function(e){return r.createElement(ue,{key:e.month,monthRecord:e})}))):r.createElement(Mn,null,"\u6682\u65e0\u6570\u636e"),r.createElement(he,{onClick:function(){return p(!0)}},r.createElement(g,{name:"survey",size:22,color:f.$success})),t&&r.createElement(ke,{title:"\u8bf7\u9009\u62e9\u6708\u4efd",closeDrawer:function(){return a(!1)}},r.createElement(gn,{value:h,closeDrawer:function(){return a(!1)},onSubmit:function(e){return E(e)}})),u&&r.createElement(ke,{closeDrawer:function(){return l(!1)}},r.createElement(cn,{value:j,recordType:z,closeDrawer:function(){return l(!1)},onSubmit:function(e,n){O(e),S(n)}})),d&&r.createElement(ke,{closeDrawer:A},r.createElement(Ue,{closeDrawer:A,onSubmit:function(e){R(e),alert("\u5df2\u6dfb\u52a0\u8be5\u8bb0\u5f55")}})))};function Jn(){var e=Object(u.a)(["\n  display: flex;\n  padding: 16px 0 0;\n  border-top: 1px solid #eee;\n  > button {\n    flex-grow: 1;\n    background: none;\n    border: none;\n  }\n"]);return Jn=function(){return e},e}function Pn(){var e=Object(u.a)(["\n  color: ",";\n  svg {\n    fill: ","\n  }\n"]);return Pn=function(){return e},e}function Yn(){var e=Object(u.a)(["\n  margin-bottom: 16px;\n  text-align: left;\n  border-spacing: 8px;\n  td:first-child {\n    color: ",";\n    padding-right: 12px;\n  }\n"]);return Yn=function(){return e},e}function Hn(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-top: 12px;\n"]);return Hn=function(){return e},e}function Kn(){var e=Object(u.a)(["\n  padding: 16px;\n  background: white;\n  border-radius: 8px;\n  text-align: center;\n  h3 {\n    margin: 16px 0;\n    font-size: 2.4em;\n    font-weight: normal;\n    letter-spacing: 1px;\n  }\n"]);return Kn=function(){return e},e}var Wn=l.b.div(Kn()),qn=l.b.section(Hn()),Gn=l.b.table(Yn(),(function(e){return e.theme.$subText})),Qn=l.b.button(Pn(),(function(e){return e.theme.$danger}),(function(e){return e.theme.$danger})),Un=l.b.section(Jn()),Vn=function(e){var n=e.rawRecord,t=e.onDelete,a=e.onEdit,c=n.id,o=n.amount,i=n.type,u=n.date,l=n.note,s=n.categoryId,m=I.find((function(e){return e.id===s}));if(!m)return r.createElement("div",null,"\u9875\u9762\u51fa\u9519");return r.createElement(Wn,null,r.createElement(qn,null,r.createElement(P,{category:m,recordType:i,size:14}),r.createElement("span",{style:{marginLeft:8}},m.name)),r.createElement("h3",null,"expense"===i?"-":"+",o),r.createElement(Gn,null,r.createElement("tbody",null,r.createElement("tr",null,r.createElement("td",null,"\u8bb0\u5f55\u65f6\u95f4"),r.createElement("td",null,H()(u).format("YYYY\u5e74MM\u6708DD\u65e5 hh:mm"))),r.createElement("tr",null,r.createElement("td",null,"\u5907\u6ce8"),r.createElement("td",null,l)))),r.createElement(Un,null,r.createElement(Qn,{onClick:function(){window.confirm("\u5220\u9664\u540e\u65e0\u6cd5\u6062\u590d\uff0c\u662f\u5426\u5220\u9664\uff1f")&&t(c)}},r.createElement(g,{name:"trash"}),r.createElement("span",{style:{marginLeft:8}},"\u5220\u9664")),r.createElement(v,{gap:0}),r.createElement("button",{onClick:a},r.createElement(g,{name:"edit"}),r.createElement("span",{style:{marginLeft:8}},"\u7f16\u8f91"))))};function Xn(){var e=Object(u.a)(["\n  padding: 0 12px;\n"]);return Xn=function(){return e},e}function Zn(){var e=Object(u.a)(["\n  padding: 24px 12px;\n"]);return Zn=function(){return e},e}var _n=l.b.header(Zn()),et=l.b.section(Xn()),nt=function(){var e=Object(m.f)(),n=e.goBack,t=e.push,a=Object(m.h)().id,c=be(),o=c.rawRecordList,u=c.deleteRecord,l=c.editRecord,s=Object(r.useState)(!1),d=Object(i.a)(s,2),f=d[0],p=d[1],b=o.find((function(e){return e.id===a}));if(!b)return r.createElement("div",null,"\u9875\u9762\u51fa\u9519");return r.createElement("div",null,r.createElement(_n,null,r.createElement(g,{name:"left",onClick:n,size:24})),r.createElement(et,null,r.createElement(Vn,{onDelete:function(e){u(e),t("/"),alert("\u5220\u9664\u6210\u529f")},onEdit:function(){return p(!0)},rawRecord:b})),f&&r.createElement(ke,{closeDrawer:function(){return p(!1)}},r.createElement(Ue,{closeDrawer:function(){return p(!1)},value:b,onSubmit:function(e){l(e),alert("\u4fee\u6539\u6210\u529f")}})))};function tt(){var e=Object(u.a)(["\n  color: ","\n"]);return tt=function(){return e},e}function rt(){var e=Object(u.a)(["\n  display: flex;\n  align-items: flex-start;\n  justify-content: center;\n  span {\n    font-weight: 500;\n    font-size: 1.4em;\n    color: ",";\n    &.money {\n      font-size: 2.2em;\n    }\n  }\n"]);return rt=function(){return e},e}function at(){var e=Object(u.a)(["\n  margin: 20px 0 4px;\n  color: ",";\n"]);return at=function(){return e},e}function ct(){var e=Object(u.a)(["\n  padding: 8px 16px;\n  background: #F7F7F7;\n  border-radius: 4px;\n  color: ","\n"]);return ct=function(){return e},e}function ot(){var e=Object(u.a)(["\n  padding: 32px 0;\n  text-align: center;\n  background: white;\n"]);return ot=function(){return e},e}var it=l.b.section(ot()),ut=l.b.button(ct(),(function(e){return e.theme.$normalText})),lt=l.b.p(at(),(function(e){return e.theme.$success})),st=l.b.p(rt(),(function(e){return e.theme.$success})),mt=l.b.p(tt(),(function(e){return e.theme.$subText})),dt=function(e){var n=e.showMonth,t=e.month,a=e.monthRecord;return(r.createElement(it,null,r.createElement(ut,{onClick:n},r.createElement("span",null,t.format(W)),r.createElement(v,{gap:8,color:f.$placeholder}),r.createElement(g,{color:f.$normalText,name:"drop-down"})),r.createElement(lt,null,"\u5171\u652f\u51fa"),r.createElement(st,null,r.createElement("span",null,"\uffe5"),r.createElement("span",{className:"money"},a?a.expenseTotal.toFixed(2):"0.00")),r.createElement(mt,null,"\u5171\u6536\u5165\uffe5",a?a.incomeTotal.toFixed(2):"0.00")))};function ft(){var e=Object(u.a)(["\n  position: absolute;\n  left: 0;\n  height: 100%;\n  width: ",";\n  border-radius: 16px;\n  background: ",";\n"]);return ft=function(){return e},e}function pt(){var e=Object(u.a)(["\n  position: relative;\n  height: ",";\n  width: ",";\n  background: #E5E5E5;\n  border-radius: 16px;\n"]);return pt=function(){return e},e}function bt(){var e=Object(u.a)(["\n  margin-right: 4px;\n  font-size: ",";\n  color: ",";\n"]);return bt=function(){return e},e}function gt(){var e=Object(u.a)(["\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n"]);return gt=function(){return e},e}var xt=l.b.span(gt()),ht=l.b.span(bt(),(function(e){return e.theme.$subText}),(function(e){return e.theme.$subText})),Et=l.b.div(pt(),(function(e){return e.height+"px"}),(function(e){return e.width+"px"})),vt=l.b.div(ft(),(function(e){return e.progress+"%"}),(function(e){return e.color})),yt=function(e){var n=e.value,t=e.width,a=e.height,c=e.color;return(r.createElement(xt,null,r.createElement(ht,null,(100*n).toFixed(2),"%"),r.createElement(Et,{width:t,height:a},r.createElement(vt,{progress:100*n,color:c}))))};yt.defaultProps={value:0,color:f.$success,width:200,height:8};var wt=yt;function jt(){var e=Object(u.a)(["\n  margin-top: 32px;\n  text-align: center;\n  color: ",";\n"]);return jt=function(){return e},e}function Ot(){var e=Object(u.a)(["\n  display: flex;\n  margin-bottom: 24px;\n  &:last-child {\n    margin-bottom: 0;\n  }\n  \n  > span {\n    display: inline-flex;\n    align-items: center;\n    &.ratio {\n      padding-right: 16px;\n      justify-content: flex-end;\n      text-align: right;\n      flex-grow: 1;\n    }\n  }\n"]);return Ot=function(){return e},e}function Tt(){var e=Object(u.a)(["\n  margin-top: 32px;\n  list-style: none;\n"]);return Tt=function(){return e},e}function kt(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  > span {\n    font-size: ",";\n  }\n"]);return kt=function(){return e},e}function $t(){var e=Object(u.a)(["\n  padding: 24px 0;\n  background: white;\n"]);return $t=function(){return e},e}var zt=l.b.section($t()),St=l.b.div(kt(),(function(e){return e.theme.$mainTextSize})),Ft=l.b.ul(Tt()),Ct=l.b.li(Ot()),Rt=l.b.div(jt(),(function(e){return e.theme.$subText})),Nt=function(e){var n=e.monthRecord,t=Object(r.useState)("expense"),a=Object(i.a)(t,2),c=a[0],o=a[1],u=function(e){var n={},t=0;return e.forEach((function(e){var r=e.categoryId;r in n||(n[r]={amount:0,category:T.find((function(e){return e.id===r})),ratio:0}),t+=e.amount,n[r].amount+=e.amount,n[r].ratio=n[r].amount/t})),Object.values(n).forEach((function(e){return e.ratio=e.amount/t})),Object.values(n).sort((function(e,n){return n.ratio-e.ratio}))}(n?pe(n).filter((function(e){return e.type===c})):[]);return r.createElement(zt,null,r.createElement(St,null,r.createElement("span",null,"\u6536\u652f\u6784\u6210"),r.createElement("span",null,r.createElement(Ce,{recordType:"expense"===c?"success":"none",size:"small",onClick:function(){return o("expense")}},"\u652f\u51fa"),r.createElement(Ce,{recordType:"income"===c?"warning":"none",size:"small",onClick:function(){return o("income")}},"\u6536\u5165"))),0!==u.length?r.createElement(Ft,null,u.map((function(e){var n=e.category,t=e.amount,a=e.ratio;return(r.createElement(Ct,{key:n.id},r.createElement("span",{className:"category"},r.createElement(P,{category:n,recordType:c,size:14}),r.createElement("span",{style:{marginLeft:8}},n.name)),r.createElement("span",{className:"ratio"},r.createElement(wt,{color:"expense"===c?f.$success:f.$warning,value:a,width:110,height:6})),r.createElement("span",{className:"amount"},"\uffe5",t.toFixed(2))))}))):r.createElement(Rt,null,"\u6682\u65e0\u6570\u636e"))},Dt=t(104),Lt=t.n(Dt),At=function(e,n,t,r){var a="expense"===t?f.$success:f.$warning,c="expense"===t?"\u652f\u51fa":"\u6536\u5165";return{tooltip:{show:!0,trigger:"item",axisPointer:{type:"shadow",axis:"auto"},padding:5,textStyle:{color:"#eee"}},xAxis:{axisLabel:{formatter:"{value}\n".concat(r),textStyle:{color:f.$subText}},data:e},yAxis:{show:!1},series:[{type:"bar",name:c,data:n,label:{show:!0,position:"top",color:a,formatter:function(e){return 0===e.value?"":"\uffe5".concat(e.value.toFixed(2))}},itemStyle:{color:a},barMinHeight:4}]}};function It(){var e=Object(u.a)(["\n  margin: 0 -24px;\n"]);return It=function(){return e},e}function Mt(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  > span {\n    font-size: ",";\n  }\n"]);return Mt=function(){return e},e}var Bt=l.b.div(Mt(),(function(e){return e.theme.$mainTextSize})),Jt=l.b.div(It()),Pt=function(e){var n=e.month,t=e.monthRecord,a=Object(r.useState)("expense"),c=Object(i.a)(a,2),o=c[0],u=c[1],l=t?pe(t).filter((function(e){return e.type===o})):[],s=function(e){var n=e.get("year"),t=e.get("month"),r=new Date(n,t+1,0).getDate();return Object(K.a)(Array(r)).map((function(e,n){return n+1}))}(n),m=function(e,n){return e.map((function(e){var t=n.find((function(n){return H()(n.date).get("date")===e}));return t?t.amount:0}))}(s,l),d=At(s,m,o,"\u53f7");return r.createElement("section",null,r.createElement(Bt,null,r.createElement("span",null,"\u6bcf\u65e5\u5bf9\u6bd4"),r.createElement("span",null,r.createElement(Ce,{recordType:"expense"===o?"success":"none",size:"small",onClick:function(){return u("expense")}},"\u652f\u51fa"),r.createElement(Ce,{recordType:"income"===o?"warning":"none",size:"small",onClick:function(){return u("income")}},"\u6536\u5165"))),r.createElement(Jt,null,r.createElement(Lt.a,{option:d})))};function Yt(){var e=Object(u.a)(["\n  margin: 0 -24px;\n"]);return Yt=function(){return e},e}function Ht(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  > span {\n    font-size: ",";\n  }\n"]);return Ht=function(){return e},e}var Kt=l.b.div(Ht(),(function(e){return e.theme.$mainTextSize})),Wt=l.b.div(Yt()),qt=function(e){var n=e.getMonthRecord,t=Object(r.useState)("expense"),a=Object(i.a)(t,2),c=a[0],o=a[1],u=bn(),l=u.map((function(e){return e.get("month")+1})),s=function(e,n){return e.map((function(e){var t=n(e.format(W));if(!t)return 0;var r=0;return pe(t).forEach((function(e){return r+=e.amount})),r}))}(u,n),m=At(l,s,c,"\u6708");return r.createElement("div",null,r.createElement(Kt,null,r.createElement("span",null,"\u6708\u5ea6\u5bf9\u6bd4"),r.createElement("span",null,r.createElement(Ce,{recordType:"expense"===c?"success":"none",size:"small",onClick:function(){return o("expense")}},"\u652f\u51fa"),r.createElement(Ce,{recordType:"income"===c?"warning":"none",size:"small",onClick:function(){return o("income")}},"\u6536\u5165"))),r.createElement(Wt,null,r.createElement(Lt.a,{option:m})))};function Gt(){var e=Object(u.a)(["\n  margin-top: 8px;\n  background: white;\n  padding: 24px;\n"]);return Gt=function(){return e},e}function Qt(){var e=Object(u.a)(["\n  flex-grow: 1;\n  overflow: auto;\n"]);return Qt=function(){return e},e}var Ut=l.b.div(Qt()),Vt=l.b.section(Gt()),Xt=function(){var e=Object(r.useState)(!1),n=Object(i.a)(e,2),t=n[0],a=n[1],c=Object(r.useState)(H()()),o=Object(i.a)(c,2),u=o[0],l=o[1],s=be().getMonthRecord,m=s(u.format(W));return r.createElement(kn,null,r.createElement(Ut,null,r.createElement(dt,{monthRecord:m,month:u,showMonth:function(){return a(!0)}}),r.createElement(Vt,null,r.createElement(Nt,{monthRecord:m}),r.createElement(v,{direction:"horizontal",gap:24}),r.createElement(Pt,{month:u,monthRecord:m}),r.createElement(v,{direction:"horizontal",gap:24}),r.createElement(qt,{getMonthRecord:s}))),t&&r.createElement(ke,{title:"\u8bf7\u9009\u62e9\u6708\u4efd",closeDrawer:function(){return a(!1)}},r.createElement(gn,{value:u,closeDrawer:function(){return a(!1)},onSubmit:function(e){return l(e)}})))};function Zt(){var e=Object(u.a)(["\n  position: relative;\n  max-width: 480px;\n  margin: 0 auto;\n  background: #EDEDED;\n  height: ","\n"]);return Zt=function(){return e},e}var _t=l.b.div(Zt(),(function(e){return e.height+"px"})),er=function(){var e=Object(r.useState)(window.innerHeight),n=Object(i.a)(e,2),t=n[0],c=n[1],o=function(){c(.01*window.innerHeight)};return Object(r.useEffect)((function(){return window.addEventListener("resize",o),window.removeEventListener("resize",o)})),a.a.createElement(l.a,{theme:f},a.a.createElement(s.a,null,a.a.createElement(_t,{height:t},a.a.createElement(m.c,null,a.a.createElement(m.a,{exact:!0,path:"/"},a.a.createElement(Bn,null)),a.a.createElement(m.a,{path:"/analysis"},a.a.createElement(Xt,null)),a.a.createElement(m.a,{path:"/record/:id"},a.a.createElement(nt,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(er,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[238,1,2]]]);
//# sourceMappingURL=main.6def413b.chunk.js.map